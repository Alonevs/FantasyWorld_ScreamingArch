{% if timeline_periods or can_edit %}
<div class="flex flex-wrap justify-end gap-2 mt-2 w-full md:w-auto period-selector-component items-center">
    
    <!-- 1. HISTORICAL PERIODS (Past) -->
    {% for period in timeline_periods %}
    {% if not period.is_current and not period.is_future %}
    <a href="?period={{ period.slug }}" 
       class="group relative w-16 p-2 rounded-lg border-2 transition-all duration-300 text-center {% if is_period_view and viewing_period.slug == period.slug %}bg-indigo-600 border-indigo-500 shadow-lg shadow-indigo-900/50{% else %}bg-gray-800 border-gray-700 hover:border-indigo-500 hover:bg-gray-700{% endif %}">
        <div class="text-lg mb-0.5">üìú</div>
        <div class="text-[9px] font-bold uppercase tracking-wider leading-none truncate {% if is_period_view and viewing_period.slug == period.slug %}text-white{% else %}text-gray-400 group-hover:text-indigo-400{% endif %}">
            {{ period.title }}
        </div>
    </a>
    {% endif %}
    {% endfor %}

    <!-- 2. CURRENT / LIVE (Present) -->
    <a href="{% url 'ver_mundo' public_id %}" 
       class="group relative w-16 p-2 rounded-lg border-2 transition-all duration-300 text-center z-10 {% if not is_period_view %}bg-green-600 border-green-500 shadow-lg shadow-green-900/50 scale-105{% else %}bg-gray-800 border-gray-700 hover:border-green-500 hover:bg-gray-700{% endif %}">
        <div class="text-lg mb-0.5">‚≠ê</div>
        <div class="text-[9px] font-bold uppercase tracking-wider leading-none {% if not is_period_view %}text-white{% else %}text-gray-400 group-hover:text-green-400{% endif %}">
            ACTUAL
        </div>
    </a>

    <!-- 3. FUTURE PERIODS (Drafts/Offline) - Only for Editors -->
    {% if can_edit %}
        {% for period in timeline_periods %}
        {% if period.is_future %}
        <a href="?period={{ period.slug }}" 
           class="group relative w-16 p-2 rounded-lg border-2 border-dashed transition-all duration-300 text-center {% if is_period_view and viewing_period.slug == period.slug %}bg-purple-900/40 border-purple-500 shadow-lg shadow-purple-900/50{% else %}bg-gray-900/50 border-gray-700 hover:border-purple-500 hover:bg-purple-900/20{% endif %}">
            <div class="text-lg mb-0.5">üîÆ</div>
            <div class="text-[9px] font-bold uppercase tracking-wider leading-none truncate {% if is_period_view and viewing_period.slug == period.slug %}text-purple-300{% else %}text-gray-500 group-hover:text-purple-400{% endif %}">
                {{ period.title }}
            </div>
        </a>
        {% endif %}
        {% endfor %}
    
    <!-- New Period Button -->
    <button onclick="openCreatePeriodModal()" 
            class="group relative w-16 p-2 rounded-lg border-2 border-dashed border-gray-600 hover:border-white transition-all duration-300 text-center bg-transparent hover:bg-white/5 opacity-60 hover:opacity-100">
        <div class="text-lg mb-0.5">‚ûï</div>
        <div class="text-[9px] font-bold text-gray-400 group-hover:text-white uppercase tracking-wider leading-none">
            NUEVO
        </div>
    </button>
    {% endif %}
</div>
{% endif %}
