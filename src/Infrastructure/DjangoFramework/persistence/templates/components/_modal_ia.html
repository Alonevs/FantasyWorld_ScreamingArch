<div id="aiModal" class="fixed inset-0 bg-black/90 z-50 hidden items-center justify-center backdrop-blur-sm">
    <div class="bg-card border border-accent/50 rounded-2xl p-8 max-w-md w-full text-center shadow-[0_0_50px_rgba(214,51,255,0.2)]">
        <h2 class="text-2xl font-bold text-white mb-1">Generador Neural</h2>
        <p class="text-xs text-gray-400 mb-6 uppercase tracking-widest">Stable Diffusion + Llama 3</p>
        
        <div id="ai-step-1">
            <p class="text-gray-300 mb-6 text-sm">La IA leerÃ¡ la descripciÃ³n de este mundo y generarÃ¡ una visualizaciÃ³n Ãºnica.</p>
            <button onclick="generatePreview()" class="w-full py-3 bg-accent hover:bg-accent-hover text-white font-bold rounded-lg mb-3 transition">âœ¨ GENERAR AHORA</button>
            <button onclick="closeAiModal()" class="text-gray-500 hover:text-white text-sm underline">Cancelar</button>
        </div>

        <div id="ai-step-loading" class="hidden py-8">
            <div class="text-4xl animate-bounce mb-4">ðŸ”®</div>
            <p class="text-accent font-bold animate-pulse">SoÃ±ando pÃ­xeles...</p>
        </div>

        <div id="ai-step-result" class="hidden">
            <img id="ai-preview-img" class="w-full rounded-lg border border-gray-700 mb-4 shadow-xl">
            <div class="text-left mb-4">
                <label class="text-xs text-gray-500 uppercase font-bold">TÃ­tulo</label>
                <input type="text" id="ai-img-title" placeholder="Ej: Paisaje Desolado..." class="w-full bg-black border border-gray-700 rounded p-2 mt-1 text-white focus:border-accent focus:outline-none">
            </div>
            <div class="flex gap-3">
                <button onclick="discardAiImage()" class="flex-1 py-2 bg-gray-800 hover:bg-red-900/50 text-gray-300 hover:text-red-200 rounded-lg border border-gray-700 transition">Descartar</button>
                <button onclick="saveAiImage()" class="flex-1 py-2 bg-green-600 hover:bg-green-500 text-white font-bold rounded-lg shadow-lg shadow-green-900/50 transition">ðŸ’¾ GUARDAR</button>
            </div>
        </div>
    </div>
</div>
