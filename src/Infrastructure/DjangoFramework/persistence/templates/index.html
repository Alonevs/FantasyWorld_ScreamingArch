{% extends "layouts/base.html" %}
{% load static %}

{% block content %}
    <div class="relative bg-gradient-to-b from-[#1a1a2e] to-dark border-b border-gray-800 p-10 text-center mb-8">
        <h1 class="text-5xl font-bold text-accent mb-2 drop-shadow-[0_0_15px_rgba(214,51,255,0.5)]">ECLAI UNIVERSE</h1>
        <p class="text-gray-400 text-lg">Sistema de Gesti√≥n de Realidades - v5.0 (Base)</p>
        
        <div class="flex justify-center gap-4 mt-6">
            <button onclick="document.getElementById('createModal').classList.remove('hidden');document.getElementById('createModal').classList.add('flex')" 
               class="px-6 py-2 bg-accent hover:bg-accent-hover text-white font-bold rounded-full transition transform hover:scale-105 shadow-lg shadow-purple-900/40">
               + NUEVO MUNDO
            </button>
            <a href="{% url 'dashboard' %}" class="px-6 py-2 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-full border border-gray-600 transition">
               üéõÔ∏è GESTI√ìN
            </a>
        </div>
    </div>

    <div class="max-w-[1600px] mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">
        {% for m in mundos %}
            {% include "components/_entity_card.html" with entity=m variant="vertical" %}
        {% empty %}
        <div class="col-span-full py-20 text-center text-gray-500">
            <h2 class="text-2xl font-bold mb-2">El vac√≠o es absoluto.</h2>
            <p>No existen mundos en este sector. Crea el primero.</p>
        </div>
        {% endfor %}
    </div>
{% endblock %}

{% block modals %}
    <!-- MODAL CREAR -->
    <div id="createModal" class="hidden fixed inset-0 bg-black/80 z-50 items-center justify-center backdrop-blur-sm">
        <div class="bg-[#161625] border border-accent rounded-xl p-8 w-full max-w-md shadow-2xl">
            <h2 class="text-2xl font-bold text-accent mb-6">Iniciar G√©nesis</h2>
            <form method="POST">
                {% csrf_token %}
                <div class="mb-4">
                    <label class="block text-gray-400 text-sm mb-2">Nombre del Mundo</label>
                    <input type="text" name="world_name" required class="w-full bg-black border border-gray-700 rounded p-3 text-white focus:border-accent focus:outline-none transition">
                </div>

                <div class="mb-6">
                    <label class="block text-gray-400 text-sm mb-2">Concepto Inicial</label>
                    <textarea name="world_desc" rows="4" class="w-full bg-black border border-gray-700 rounded p-3 text-white focus:border-accent focus:outline-none transition"></textarea>
                </div>

                <div class="flex justify-end gap-3">
                    <button type="button" onclick="document.getElementById('createModal').classList.add('hidden');document.getElementById('createModal').classList.remove('flex')"
                        class="px-4 py-2 text-gray-300 hover:text-white transition">Cancelar</button>
                    <button type="submit" class="px-6 py-2 bg-accent hover:bg-accent-hover text-white font-bold rounded transition shadow-lg">üöÄ CREAR</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}